(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b027253e"],{"139f":function(t,e,r){"use strict";r.r(e);var n=r("f2bf"),c=Object(n["Y"])("data-v-c756b0c4");Object(n["F"])("data-v-c756b0c4");var a={class:"actions"},u={key:0},i=Object(n["m"])("a",null,"修改",-1),o=Object(n["m"])("a",null,"关闭",-1);Object(n["D"])();var d=c((function(t,e,r,d,l,s){var b=Object(n["K"])("a-tag"),f=Object(n["K"])("a-descriptions-item"),m=Object(n["K"])("a-descriptions"),O=Object(n["K"])("a-table");return Object(n["C"])(),Object(n["j"])(O,{columns:l.table.columns,"data-source":l.table.data,loading:l.table.loading},{time:c((function(t){var e=t.text;return[Object(n["l"])(Object(n["N"])(s.filterTimeStamp(e)),1)]})),state:c((function(t){var e=t.text;return[Object(n["m"])(b,{color:"blue"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(s.filterOrderState(e)),1)]})),_:2},1024)]})),expandedRowRender:c((function(t){var e=t.record;return[Object(n["m"])(m,{title:"订单"+e.oid,bordered:""},{default:c((function(){return[Object(n["m"])(f,{label:"用户姓名"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(e.username),1)]})),_:2},1024),Object(n["m"])(f,{label:"创建者"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(e.sponsor),1)]})),_:2},1024),Object(n["m"])(f,{label:"订单状态"},{default:c((function(){return[Object(n["m"])(b,{color:"blue"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(s.filterOrderState(e.state)),1)]})),_:2},1024)]})),_:2},1024),Object(n["m"])(f,{label:"创建时间"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(s.filterTimeStamp(e.create_time)),1)]})),_:2},1024),Object(n["m"])(f,{label:"原价格"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(e.price),1)]})),_:2},1024),Object(n["m"])(f,{label:"折扣"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(e.discount),1)]})),_:2},1024),Object(n["m"])(f,{label:"实付价格"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(e.actual_payment),1)]})),_:2},1024),Object(n["m"])(f,{label:"支付方式"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(e.pay_method),1)]})),_:2},1024),Object(n["m"])(f,{label:"备注"},{default:c((function(){return[Object(n["l"])(Object(n["N"])(e.remark),1)]})),_:2},1024)]})),_:2},1032,["title"])]})),action:c((function(t){var e=t.record;return[Object(n["m"])("div",a,[1===e.state?(Object(n["C"])(),Object(n["j"])("a",u,"支付")):Object(n["k"])("",!0),i,o])]})),_:1},8,["columns","data-source","loading"])})),l=r("f8b7"),s=r("7f08"),b={mounted:function(){var t=this;Object(l["getList"])().then((function(e){t.table.data=e.data,t.table.loading=!1}))},methods:{filterTimeStamp:s["filterTimeStamp"],filterOrderState:function(t){switch(t){case 0:return"已创建";case 1:return"待支付";case 2:return"已支付";case 3:return"已完成";case 4:return"已关闭";default:return"未知"}}},data:function(){return{table:{loading:!0,data:[],columns:[{title:"订单号",dataIndex:"oid",key:"oid",sorter:function(t,e){return t.recharge_time-e.recharge_time},sortDirections:["descend","ascend"]},{title:"用户姓名",dataIndex:"username",key:"username"},{title:"创建者",dataIndex:"sponsor",key:"sponsor"},{title:"创建时间",key:"create_time",dataIndex:"create_time",slots:{customRender:"time"},sorter:function(t,e){return t.create_time-e.create_time},sortDirections:["descend","ascend"]},{title:"支付时间",key:"pay_time",dataIndex:"pay_time",slots:{customRender:"time"}},{title:"实付金额",key:"actual_payment",dataIndex:"actual_payment",sorter:function(t,e){return t.actual_payment-e.actual_payment},sortDirections:["descend","ascend"]},{title:"订单状态",key:"state",dataIndex:"state",slots:{customRender:"state"},sorter:function(t,e){return t.state-e.state},sortDirections:["descend","ascend"]},{title:"操作",key:"action",slots:{customRender:"action"}}]}}}};r("bbf8");b.render=d,b.__scopeId="data-v-c756b0c4";e["default"]=b},"34e9":function(t,e,r){},"7f08":function(t,e,r){"use strict";function n(t){return t?new Date(t).toLocaleString():"无"}r.r(e),r.d(e,"filterTimeStamp",(function(){return n}))},bbf8:function(t,e,r){"use strict";r("34e9")},f8b7:function(t,e,r){"use strict";r.r(e),r.d(e,"getList",(function(){return c})),r.d(e,"createOrder",(function(){return a})),r.d(e,"getListByUID",(function(){return u})),r.d(e,"getOrderByID",(function(){return i})),r.d(e,"addItem",(function(){return o})),r.d(e,"deleteItem",(function(){return d})),r.d(e,"updateItemAmount",(function(){return l})),r.d(e,"getLastOrder",(function(){return s}));var n=r("b775");function c(){return Object(n["default"])({url:"/order/list",method:"get"})}function a(t){return Object(n["default"])({url:"/order/create",method:"post",params:t})}function u(t){return Object(n["default"])({url:"/order/list/uid/"+t,method:"get"})}function i(t){return Object(n["default"])({url:"/order/id/"+t,method:"get"})}function o(t,e){return Object(n["default"])({url:"/order/id/"+t+"/item",method:"post",params:e})}function d(t,e){return Object(n["default"])({url:"/order/id/"+t+"/item",method:"delete",params:e})}function l(t,e,r){return Object(n["default"])({url:"/order/id/"+t+"/item/"+e,method:"put",params:r})}function s(){return Object(n["default"])({url:"/order/lastorder",method:"get"})}}}]);